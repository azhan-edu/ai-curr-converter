(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let s=[{code:"USD",name:"US Dollar",symbol:"$"},{code:"EUR",name:"Euro",symbol:"€"},{code:"GBP",name:"British Pound",symbol:"£"},{code:"JPY",name:"Japanese Yen",symbol:"¥"},{code:"CAD",name:"Canadian Dollar",symbol:"C$"},{code:"AUD",name:"Australian Dollar",symbol:"A$"},{code:"CHF",name:"Swiss Franc",symbol:"CHF"},{code:"CNY",name:"Chinese Yuan",symbol:"¥"},{code:"INR",name:"Indian Rupee",symbol:"₹"},{code:"KRW",name:"South Korean Won",symbol:"₩"}],a=(e,t)=>{let r=s.find(e=>e.code===t);return r?.symbol,new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(e)},n="currency-converter-history";function o(){try{let e=localStorage.getItem(n);if(!e)return[];return JSON.parse(e).map(e=>({...e,timestamp:new Date(e.timestamp)}))}catch{return[]}}function l({value:e,onChange:r,error:s}){return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),(0,t.jsx)("input",{id:"amount",type:"number",value:e,onChange:e=>r(e.target.value),placeholder:"Enter amount",className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${s?"border-red-500":"border-gray-300"}`,min:"0",step:"0.01"}),s&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s})]})}function i({value:e,onChange:r,currencies:s,label:a}){return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a}),(0,t.jsx)("select",{value:e,onChange:e=>r(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:s.map(e=>(0,t.jsxs)("option",{value:e.code,children:[e.code," - ",e.name]},e.code))})]})}function c({onClick:e}){return(0,t.jsx)("button",{onClick:e,className:"p-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Swap currencies",children:"⇄"})}function m({amount:e,from:r,to:s,result:n,rate:o}){return(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,t.jsxs)("div",{className:"text-lg font-semibold text-gray-900 mb-2",children:[a(e,r)," = ",a(n,s)]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["1 ",r," = ",o.toFixed(4)," ",s]})]})}function u({history:e,onClear:r,onReload:s}){return 0===e.length?null:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Conversion History"}),(0,t.jsx)("button",{onClick:r,className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500",children:"Clear History"})]}),(0,t.jsx)("div",{className:"space-y-2",children:e.map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-md",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[a(e.amount,e.from)," → ",a(e.result,e.to)]}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:e.timestamp.toLocaleString()})]}),(0,t.jsx)("button",{onClick:()=>s(e),className:"ml-4 px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Reload"})]},e.id))})]})}function d(){let[e,a]=(0,r.useState)(""),[d,x]=(0,r.useState)("USD"),[h,f]=(0,r.useState)("EUR"),[g,b]=(0,r.useState)(null),[y,p]=(0,r.useState)(!1),[v,j]=(0,r.useState)(""),[N,w]=(0,r.useState)(null),[S,C]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e,t={from:(e=new URLSearchParams(window.location.search)).get("from")||void 0,to:e.get("to")||void 0,amount:e.get("amount")||void 0};t.from&&x(t.from),t.to&&f(t.to),t.amount&&a(t.amount)},[]),(0,r.useEffect)(()=>{C(o())},[]);let F=(0,r.useCallback)(async()=>{try{p(!0),j("");let e=await fetch("/api/rates"),t=await e.json();if(t.success)b(t.rates);else throw Error(t.error||"Failed to fetch rates")}catch(e){j(e instanceof Error?e.message:"Failed to fetch exchange rates")}finally{p(!1)}},[p,j,b]),D=(0,r.useCallback)(()=>{var t,r,s,a,l;let i,c,m,u;if(!g||!e)return;let x=(e=>{if(!e.trim())return{isValid:!1,error:"Amount is required"};let t=parseFloat(e);return isNaN(t)?{isValid:!1,error:"Please enter a valid number"}:t<=0?{isValid:!1,error:"Amount must be greater than 0"}:t>1e9?{isValid:!1,error:"Amount is too large"}:{isValid:!0}})(e);if(!x.isValid){j(x.error),w(null);return}let f=parseFloat(e),b=(r=f,s=d,a=h,l=g,s===a?r:r/(l[s]||1)*(l[a]||1));w(b),j(""),t={from:d,to:h,amount:f,result:b,rate:g[h]/g[d]},i=o(),c={...t,id:Date.now().toString(),timestamp:new Date},i.unshift(c),m=i.slice(0,10),localStorage.setItem(n,JSON.stringify(m)),C(o()),(u=new URL(window.location.href)).searchParams.set("from",d),u.searchParams.set("to",h),u.searchParams.set("amount",e),window.history.replaceState({},"",u.toString())},[e,d,h,g]);return(0,r.useEffect)(()=>{g&&e?D():w(null)},[e,d,h,g,D]),(0,r.useEffect)(()=>{F()},[F]),(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-center mb-8 text-gray-900",children:"Currency Converter"}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row items-end gap-4 mb-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(l,{value:e,onChange:a,error:v})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i,{value:d,onChange:x,currencies:s,label:"From"}),(0,t.jsx)(c,{onClick:()=>{x(h),f(d)}}),(0,t.jsx)(i,{value:h,onChange:f,currencies:s,label:"To"})]})]}),null!==N&&(0,t.jsx)(m,{amount:parseFloat(e),from:d,to:h,result:N,rate:g?g[h]/g[d]:0}),y&&(0,t.jsx)("div",{className:"text-center text-gray-600 mt-4",children:"Loading exchange rates..."}),v&&!y&&(0,t.jsx)("div",{className:"text-center text-red-600 mt-4",children:v})]}),(0,t.jsx)(u,{history:S,onClear:()=>{localStorage.removeItem(n),C([])},onReload:e=>{a(e.amount.toString()),x(e.from),f(e.to)}})]})})}e.s(["default",()=>d],31713)}]);